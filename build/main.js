$(function(){var a,e,n,i=$(".photo-list"),t=$(".loading-gif").hide(),s="",o=$(".buttons").hide(),l=function(a){s+="<li>",s+='<div class="photo-box">',s+='<a href="'+a.link+'"><img src="'+a.images.standard_resolution.url+'"/></a>',s+='<div class="user-data-bar">',s+='<div class="user-profile-pic"><img src="'+a.user.profile_picture+'"/></div>',s+='<div class="user-info">',s+='<p class="username">'+a.user.username+"</p>",s+='<p><i class="fa fa-comments"></i>'+a.comments.count+'<i class="fa fa-heart"></i>'+a.likes.count+"</p>",s+="</div>",s+="</div>",s+="</div>",s+="</li>"},d=function(){s+='<p class="error-message">Apologies! There was an error. Please try again.</p>',i.hide().append(s).fadeIn("slow"),o.hide()};$(".search-button").on("click",function(r){r.preventDefault(),$(".site-header").addClass("header-transition"),i.empty(),s="",t.show(),a=$(".hashtag-input").val().replace(" ",""),e="https://api.instagram.com/v1/tags/"+a+"/media/recent?count=12&client_id=b8586475183a4ad89a5a0ebd4a36fbc2",$.ajax({dataType:"jsonp",method:"GET",url:e}).done(function(a){a.data.length?(o.fadeIn("slow"),s+="<ul>",$.each(a.data,function(a,e){l(e)}),s+="</ul>",i.hide().append(s).fadeIn("slow"),n=a.pagination.next_url,s=""):(s+='<p class="invalid-hashtag">There are no photos with that hashtag! Please try again.</p>',i.hide().append(s).fadeIn("slow"),o.hide())}).fail(function(){d()}).always(function(){t.hide()})}),$(".load-more-button").on("click",function(a){a.preventDefault(),n?$.ajax({dataType:"jsonp",method:"GET",url:n}).done(function(a){o.fadeIn("slow"),s+="<ul>",$.each(a.data,function(a,e){l(e)}),s+="</ul>",i.hide().append(s).fadeIn("slow"),n=a.pagination.next_url,s=""}).fail(function(){d()}).always(function(){t.hide()}):(i.hide().append('<p class="error-message">Apologies! There are no more photos with that hashtag.</p>').fadeIn("slow"),o.hide())}),$("a").click(function(){return $("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top},500),!1})});